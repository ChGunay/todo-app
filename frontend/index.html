<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8" />
  <title>Todo Uygulaması - Ana Sayfa</title>
  <!-- Bootstrap CSS -->
  <link
    rel="stylesheet"
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
  />
</head>
<body class="bg-light">
  <div class="container my-5">
    <h1 class="mb-4">Todo Uygulaması - Ana Sayfa</h1>
    <div class="d-grid gap-2">
      <a href="./login.html" class="btn btn-primary">Giriş Yap</a>
      <a href="./register.html" class="btn btn-secondary">Kayıt Ol</a>
      <a href="./tasks.html" class="btn btn-success">Görevler</a>
      <a href="./categories.html" class="btn btn-info">Kategoriler</a>
      <!-- Yalnızca Admin'e gösterilecek link -->
      <a href="./users.html" class="btn btn-warning" id="adminLink">Kullanıcılar</a>
    </div>
  </div>

  <!-- Bootstrap JS + Popper -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

  <script>
    const token = localStorage.getItem("token");
    if(!token){
   
      document.getElementById("adminLink").style.display = "none";
    } else {
  
      const payloadBase64 = token.split('.')[1];
      if(!payloadBase64) {
        document.getElementById("adminLink").style.display = "none";
      } else {
        const payload = JSON.parse(atob(payloadBase64));
  
        if(payload.role !== 'admin'){
          document.getElementById("adminLink").style.display = "none";
        }
      }
    }
  </script>
</body>
</html>
